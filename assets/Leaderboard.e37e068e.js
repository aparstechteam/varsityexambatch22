var f=Object.defineProperty,g=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var m=(e,t,s)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,c=(e,t)=>{for(var s in t||(t={}))b.call(t,s)&&m(e,s,t[s]);if(h)for(var s of h(t))y.call(t,s)&&m(e,s,t[s]);return e},_=(e,t)=>g(e,x(t));import{_ as v}from"./lodash.6c2084c7.js";import{e as w}from"./api.014cc687.js";import{H as R,o as l,e as d,h as r,t as n,I as L,J as S,F as k,f as B,n as M,L as C,M as H}from"./index.21a6cbfb.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";const j={data(){return{search:"",testResults:[],allresult:[],results:[]}},methods:{modeltestResults(){fetch(`${w}?type=examlist&id=${this.$route.params.id}`).then(e=>e.json()).then(e=>{this.url="https://script.google.com/macros/s/AKfycbxHZMx1M1oGvp-wPb7mHwQrfkDBpkS3BG0WtciUJ_HHJTswLgJ2Ba4f8XBLNHOkjYEERQ/exec?sheet="+e.exam.exam.substr(39,44),this.hduration=e.exam.time,fetch(this.url).then(t=>t.json()).then(t=>{let s=t;this.testResults=v.sortBy(s.map(i=>_(c({},i),{attempt:i.attempt||1})),[i=>-i.score,"duration"]).map((i,a)=>c({position:a+1},i)),this.allresult=this.testResults,setTimeout(()=>{location.hash=`#${this.user.ttrx}`},1e3)})})},millisToMinutesAndSeconds(e){if(!e)return"0:00";if(e.includes(":"))return e;let t=this.hduration*6e4;if(e>t)return this.hduration+":00";var s=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return s+":"+(i<10?"0":"")+i},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let t={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return t[e]?t[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)},computed:{user(){return R.state.user}}},I=e=>(C("data-v-3ed760a6"),e=e(),H(),e),D={class:"leaderboard"},J={class:"my-4 text-3xl font-bold text-center text-gray-900 dark:text-white"},A={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},E={class:"form-control"},F={class:"mt-4"},N={key:0},Q=["id"],G={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-indigo-400 to-indigo-600"},K={class:"flex-1 ml-2 text-gray-900 md:ml-4"},U={class:"text-lg font-semibold"},V={class:"text-sm text-gray-500"},$={class:"p-2 text-gray-900 border-2 border-blue-400"},z={key:1,class:"text-center"},O=I(()=>r("button",{class:"btn loader btn-primary"},"Loading...",-1)),P=[O];function W(e,t,s,i,a,u){return l(),d("div",D,[r("div",null,[r("h1",J,"MCQ Leaderboard-"+n(this.$route.params.id),1),r("div",A,[r("div",E,[L(r("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.search=o),placeholder:"Search by Name/College",onKeyup:t[1]||(t[1]=(...o)=>u.searchResult&&u.searchResult(...o)),class:"input input-primary input-bordered"},null,544),[[S,a.search]])]),r("div",F,[a.allresult.length>0?(l(),d("div",N,[(l(!0),d(k,null,B(a.testResults,(o,p)=>(l(),d("div",{key:p,id:o.reg,class:M(`${u.getborderStyle(o.position)} flex justify-between items-center p-5   rounded  shadow-md `),style:{"scroll-margin":"100px"}},[r("span",G,n(o.position),1),r("div",K,[r("h2",U,n(o.name),1),r("p",null,n(o.college),1),r("p",V," Duration: "+n(u.millisToMinutesAndSeconds(o.duration))+" minutes ",1)]),r("div",$,n(o.score),1)],10,Q))),128))])):(l(),d("div",z,P))])])])])}var te=T(j,[["render",W],["__scopeId","data-v-3ed760a6"]]);export{te as default};
